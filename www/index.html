<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <title>Kidoju.Mobile</title>
    <script src="./build/jquery.min.js"></script>
    <script src="./build/app.bundle.js"></script>
</head>
<body>

<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<!-- Tablet application                                                        -->
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

<div id="tablet" style="display: none;"></div>

<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<!-- Phone application                                                         -->
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

<div id="phone">

    <!-- Main layout -->
    <div data-role="layout" data-id="phone-main-layout">
        <header data-role="header">
            <div data-role="navbar" class="km-accent">
                <a id="phone-main-layout-drawer" data-role="button" href="#phone-drawer" data-rel="drawer" class="nav-button" data-align="left" data-icon="settings"></a>
                <a id="phone-main-layout-back" data-role="button" class="nav-button" data-align="left" data-icon="back"></a>
                <span data-role="view-title"></span>
                <a id="phone-main-layout-search" data-role="button" class="nav-button" data-align="right" data-icon="search"></a>
                <a id="phone-main-layout-sync" data-role="button" class="nav-button" data-align="right" data-icon="refresh"></a>
                <ul id="phone-main-layout-selection" data-role="buttongroup" data-index="0">
                    <li>Recent</li>
                    <li>Popular</li>
                    <li>Best</li>
                </ul>
            </div>
        </header>
    </div>

    <!-- Activities view -->
    <div id="phone-activities" data-role="view" data-layout="phone-main-layout" data-title="Activities" data-model="app.mobile.viewModel" data-show="app.mobile.onActivitiesViewShow">
        <ul data-role="listview" data-bind="source: scores" data-pull-to-refresh="true" data-append-on-refresh="true" data-template="phone-activities-template">
        </ul>
        <script type="text/x-kendo-template" id="phone-activities-template">
            <a href="\#phone-player">#: title # - #: score #</a>
        </script>
    </div>

    <!-- Categories view -->
    <div id="phone-categories" data-role="view" data-layout="phone-main-layout" data-title="Explore" data-model="app.mobile.viewModel" data-init="app.mobile.onCategoriesViewInit" data-show="app.mobile.onCategoriesViewShow">
        <!-- Display search button -->
        <ul data-role="listview" data-bind="source: categories" data-pull-to-refresh="true" data-append-on-refresh="true" data-template="phone-categories-template">
        </ul>
        <script type="text/x-kendo-template" id="phone-categories-template">
            <a href="\#phone-summaries?filter%5Bfield%5D=categories&filter%5Boperator%5D=eq&filter%5Bvalue%5D=#: id #">
                <img src="#: kendo.format('https://cdn.kidoju.com/images/o_collection/svg/office/{0}.svg', icon) #" alt="#: name #" class="km-thumbnail">
                <span>#: name #</span>
            </a>
        </script>
    </div>

    <!-- Drawer -->
    <div id="phone-drawer" data-role="drawer" data-position="left" data-swipe-to-open="false">
        <header data-role="header">
            <div data-role="navbar">Kidoju Logo</div>
        </header>
        <div data-role="content" class="km-content km-stretched-view">
            <ul data-role="listview">
                <li><a href="#phone-categories">Explore</a></li>
                <li><a href="#phone-favourites">Favourites</a></li>
                <li><a href="#phone-activities">Activities</a></li>
                <li><a href="#phone-settings">Settings</a></li>
            </ul>
        </div>
    </div>

    <!-- Favourites view -->
    <div id="phone-favourites" data-role="view" data-layout="phone-main-layout" data-title="Favourites" data-model="app.mobile.viewModel" data-show="app.mobile.onFavouritesViewShow">
        <ul data-role="listview" data-bind="source: favourites" data-pull-to-refresh="true" data-append-on-refresh="true" data-template="phone-favourites-template">
        </ul>
        <script type="text/x-kendo-template" id="phone-favourites-template">
            <a href="\#phone-player">#: title #</a>
        </script>
    </div>

    <!-- Player view -->
    <div id="phone-player" data-role="view" data-layout="phone-main-layout" data-title="Page 1 of 6" data-model="app.mobile.viewModel" data-show="app.mobile.onPlayerViewShow">
        <div>
            <div data-role="stage" data-bind="source: selectedPage.components, properties: current.test" data-mode="play" data-messages="{ noPage: 'Loading...' }"></div>
        </div>
        <div>
            <div class="markdown" data-role="markdown" data-bind="value: selectedPage.instructions"></div>
        </div>
    </div>

    <!-- Settings view -->
    <div id="phone-settings" data-role="view" data-layout="phone-main-layout" data-title="Settings" data-model="app.mobile.viewModel" data-use-native-scrolling="true" data-show="app.mobile.onSettingsViewShow">
        <!-- see http://docs.telerik.com/kendo-ui/controls/hybrid/styles/forms -->
        <form>
            <ul data-role="listview" data-style="inset">
                <li>
                    <label>
                        <span>User</span>
                        <input type="text" data-bind="value: settings.user" readonly disabled />
                        <!-- TODO Show login button -->
                    </label>
                </li>
                <li>
                    <label>
                        <span>Version</span>
                        <input type="text" data-bind="value: settings.version" readonly disabled />
                        <!-- TODO Show upgrade sign if it does not match server -->
                    </label>
                </li>
                <li>
                    <label>
                        <span>Language</span>
                        <input data-role="dropdownlist" data-bind="value: settings.language, source: languages" data-value-field="value" data-text-field="text" />
                    </label>
                </li>
                <li>
                    <label>
                        <span>Theme</span>
                        <input data-role="dropdownlist" data-bind="value: settings.theme, source: themes" data-value-field="value" data-text-field="text" />
                    </label>
                </li>
            </ul>
        </form>
    </div>

    <!-- Summaries view -->
    <div id="phone-summaries" data-role="view" data-layout="phone-main-layout" data-title="Explore" data-model="app.mobile.viewModel" data-init="app.mobile.onSummariesViewInit" data-show="app.mobile.onSummariesViewShow">
        <div></div>
        <ul data-role="listview" data-bind="source: summaries" data-pull-to-refresh="true" data-append-on-refresh="true" data-template="phone-summaries-template"></ul>
        <script type="text/x-kendo-template" id="phone-summaries-template">
            <img src="#: icon$() #" alt="#: title #" class="km-thumbnail">
            <div>
                <a class="km-primary km-button-right km-widget km-button" data-role="button" href="\#phone-player?summaryId=#: id #"><span class="km-text">Play</span></a>
                <h4>#: title #</h4>
                # var tags = tags$(); if (Array.isArray(tags) && tags.length) { #
                <h6><i class="kf kf-tags"></i>
                    # for (var i = 0; i < tags.length; i++) { #
                    <span>#: tags[i].name #</span># if (i < tags.length -1) { #, # } #
                    # } #
                </h6>
                # } #
                <!--div class="author">
                    <%- __('finder.list.author.publishedOn') %><span>#: kendo.toString(published, "<%- __('dateFormat') %>") #</span><%- __('finder.list.author.by') %><a href="#= authorUri$() #">#: authorName$() #</a>
                </div-->
                <div class="metrics">
                    <span class="kf"><input data-role="rating" value="#: ratings #" readonly></span>
                    <i class="kf kf-view"></i><span>#: views #</span>
                    # if (scores) { #<i class="kf kf-score"></i><span>#: kendo.toString(scores, 'n0') #%</span># } #
                </div>
            </div>
        </script>
    </div>

</div>

</body>
</html>
